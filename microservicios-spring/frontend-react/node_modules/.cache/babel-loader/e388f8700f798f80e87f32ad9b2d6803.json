{"ast":null,"code":"import _regeneratorRuntime from\"/home/aekmot/aprender/apps-fullStack/microservicios-spring/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/aekmot/aprender/apps-fullStack/microservicios-spring/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/aekmot/aprender/apps-fullStack/microservicios-spring/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonButton,IonButtons,IonCard,IonCol,IonContent,IonGrid,IonHeader,IonIcon,IonItem,IonMenuButton,IonPage,IonRow,IonTitle,IonToolbar}from'@ionic/react';import{add,close,pencil}from'ionicons/icons';import{useEffect,useState}from'react';import{useHistory,useParams}from'react-router';import{removeCustomer,searchCustomers}from'./CustomerApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomerList=function CustomerList(props){var _useParams=useParams(),name=_useParams.name;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),clientes=_useState2[0],setClientes=_useState2[1];var history=useHistory();useEffect(function(){search();},[history.location.pathname]);var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return searchCustomers();case 2:result=_context.sent;setClientes(result);case 4:case\"end\":return _context.stop();}}},_callee);}));return function search(){return _ref.apply(this,arguments);};}();var remove=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return removeCustomer(id);case 2:search();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function remove(_x){return _ref2.apply(this,arguments);};}();var addCustomer=function addCustomer(){history.push('/page/customer/new');};var editCustomer=function editCustomer(id){history.push('/page/customer/'+id);};return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsxs(IonToolbar,{children:[/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsx(IonMenuButton,{})}),/*#__PURE__*/_jsx(IonTitle,{children:name})]})}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsx(IonHeader,{collapse:\"condense\",children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{size:\"large\",children:name})})}),/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonTitle,{children:\"Gesti\\xF3n de Clientes\"}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonButton,{onClick:addCustomer,color:\"primary\",fill:\"solid\",slot:\"end\",size:\"default\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:add}),\"Agregar Cliente\"]})}),/*#__PURE__*/_jsxs(IonGrid,{className:\"table\",children:[/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsx(IonCol,{children:\"Nombre\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Email\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Acciones\"})]}),clientes.map(function(cliente){return/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsxs(IonCol,{children:[cliente.firstname,\" \",cliente.lastname]}),/*#__PURE__*/_jsx(IonCol,{children:cliente.email}),/*#__PURE__*/_jsx(IonCol,{children:cliente.phone}),/*#__PURE__*/_jsx(IonCol,{children:cliente.address}),/*#__PURE__*/_jsxs(IonCol,{children:[/*#__PURE__*/_jsx(IonButton,{color:\"primary\",fill:\"clear\",onClick:function onClick(){return editCustomer(String(cliente.id));},children:/*#__PURE__*/_jsx(IonIcon,{icon:pencil,slot:\"icon-only\"})}),/*#__PURE__*/_jsx(IonButton,{color:\"danger\",fill:\"clear\",onClick:function onClick(){return remove(String(cliente.id));},children:/*#__PURE__*/_jsx(IonIcon,{icon:close,slot:\"icon-only\"})})]})]},cliente.id);})]})]})})]})]});};export default CustomerList;","map":{"version":3,"sources":["/home/aekmot/aprender/apps-fullStack/microservicios-spring/frontend-react/src/pages/customer/CustomerList.tsx"],"names":["IonButton","IonButtons","IonCard","IonCol","IonContent","IonGrid","IonHeader","IonIcon","IonItem","IonMenuButton","IonPage","IonRow","IonTitle","IonToolbar","add","close","pencil","useEffect","useState","useHistory","useParams","removeCustomer","searchCustomers","CustomerList","props","name","clientes","setClientes","history","search","location","pathname","result","remove","id","addCustomer","push","editCustomer","map","cliente","firstname","lastname","email","phone","address","String"],"mappings":"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","sourcesContent":["import { IonButton, IonButtons, IonCard, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonItem, IonMenuButton, IonPage, IonRow, IonTitle, IonToolbar } from '@ionic/react';\nimport { add, close, pencil } from 'ionicons/icons';\nimport { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router';\nimport Customer from './Customer';\nimport { removeCustomer, searchCustomers } from './CustomerApi';\n\n\nconst CustomerList: React.FC = (props: any) => {\n  const { name } = useParams<{ name: string; }>();\n  const [clientes, setClientes] = useState<Customer[]>([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    search();\n  }, [history.location.pathname]);\n\n  const search = async () => {\n    let result = await searchCustomers();\n    setClientes(result);\n  }\n\n  const remove = async (id: string) => {\n    await removeCustomer(id);\n    search();\n  }\n\n  const addCustomer = () => {\n    history.push('/page/customer/new');\n  }\n\n  const editCustomer = (id: string) => {\n    history.push('/page/customer/' + id);\n  }\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>{name}</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent fullscreen>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">{name}</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n\n\n\n\n\n        <IonContent>\n          <IonCard>\n            <IonTitle>Gestión de Clientes</IonTitle>\n\n            <IonItem>\n              <IonButton onClick={addCustomer} color=\"primary\" fill=\"solid\" slot=\"end\" size=\"default\">\n                <IonIcon icon={add} />\n                Agregar Cliente\n              </IonButton>\n            </IonItem>\n\n            <IonGrid className=\"table\">\n              <IonRow>\n                <IonCol>Nombre</IonCol>\n                <IonCol>Email</IonCol>\n                <IonCol>Teléfono</IonCol>\n                <IonCol>Dirección</IonCol>\n                <IonCol>Acciones</IonCol>\n              </IonRow>\n\n              {clientes.map((cliente: Customer) =>\n                <IonRow key={cliente.id}>\n                  <IonCol>{cliente.firstname} {cliente.lastname}</IonCol>\n                  <IonCol>{cliente.email}</IonCol>\n                  <IonCol>{cliente.phone}</IonCol>\n                  <IonCol>{cliente.address}</IonCol>\n                  <IonCol>\n                    <IonButton color=\"primary\" fill=\"clear\"\n                      onClick={() => editCustomer(String(cliente.id))}>\n                      <IonIcon icon={pencil} slot=\"icon-only\" />\n                    </IonButton>\n\n                    <IonButton color=\"danger\" fill=\"clear\"\n                      onClick={() => remove(String(cliente.id))}>\n                      <IonIcon icon={close} slot=\"icon-only\" />\n                    </IonButton>\n                  </IonCol>\n                </IonRow>\n              )}\n\n            </IonGrid>\n          </IonCard>\n\n\n        </IonContent>\n\n\n\n\n\n\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default CustomerList;\n"]},"metadata":{},"sourceType":"module"}