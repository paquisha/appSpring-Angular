{"ast":null,"code":"import _regeneratorRuntime from\"/home/aekmot/aprender/apps-fullStack/microservicios-spring/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/aekmot/aprender/apps-fullStack/microservicios-spring/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/aekmot/aprender/apps-fullStack/microservicios-spring/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonButton,IonButtons,IonCard,IonCol,IonContent,IonGrid,IonHeader,IonIcon,IonItem,IonMenuButton,IonPage,IonRow,IonTitle,IonToolbar}from'@ionic/react';import{add,close,pencil}from'ionicons/icons';import{useEffect,useState}from'react';import{useHistory,useParams}from'react-router';import{removeSupplier,searchSuppliers}from'./SupplierApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SupplierList=function SupplierList(props){var _useParams=useParams(),name=_useParams.name;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),suppliers=_useState2[0],setSuppliers=_useState2[1];var history=useHistory();useEffect(function(){search();},[history.location.pathname]);var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return searchSuppliers();case 2:result=_context.sent;setSuppliers(result);case 4:case\"end\":return _context.stop();}}},_callee);}));return function search(){return _ref.apply(this,arguments);};}();var remove=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return removeSupplier(id);case 2:search();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function remove(_x){return _ref2.apply(this,arguments);};}();var addSupplier=function addSupplier(){history.push('/page/supplier/new');};var editSupplier=function editSupplier(id){history.push('/page/supplier/'+id);};return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsxs(IonToolbar,{children:[/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsx(IonMenuButton,{})}),/*#__PURE__*/_jsx(IonTitle,{children:name})]})}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsx(IonHeader,{collapse:\"condense\",children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{size:\"large\",children:name})})}),/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonTitle,{children:\"Gesti\\xF3n de Proveedors\"}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonButton,{onClick:addSupplier,color:\"primary\",fill:\"solid\",slot:\"end\",size:\"default\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:add}),\"Agregar Proveedor\"]})}),/*#__PURE__*/_jsxs(IonGrid,{className:\"table\",children:[/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsx(IonCol,{children:\"Nombre\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Email\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Web\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Acciones\"})]}),suppliers.map(function(proveedor){return/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsxs(IonCol,{children:[proveedor.name,\" \",proveedor.name]}),/*#__PURE__*/_jsx(IonCol,{children:proveedor.email}),/*#__PURE__*/_jsx(IonCol,{children:proveedor.phone}),/*#__PURE__*/_jsx(IonCol,{children:proveedor.web}),/*#__PURE__*/_jsxs(IonCol,{children:[/*#__PURE__*/_jsx(IonButton,{color:\"primary\",fill:\"clear\",onClick:function onClick(){return editSupplier(String(proveedor.id));},children:/*#__PURE__*/_jsx(IonIcon,{icon:pencil,slot:\"icon-only\"})}),/*#__PURE__*/_jsx(IonButton,{color:\"danger\",fill:\"clear\",onClick:function onClick(){return remove(String(proveedor.id));},children:/*#__PURE__*/_jsx(IonIcon,{icon:close,slot:\"icon-only\"})})]})]});})]})]})})]})]});};export default SupplierList;","map":{"version":3,"sources":["/home/aekmot/aprender/apps-fullStack/microservicios-spring/frontend-react/src/pages/supplier/SupplierList.tsx"],"names":["IonButton","IonButtons","IonCard","IonCol","IonContent","IonGrid","IonHeader","IonIcon","IonItem","IonMenuButton","IonPage","IonRow","IonTitle","IonToolbar","add","close","pencil","useEffect","useState","useHistory","useParams","removeSupplier","searchSuppliers","SupplierList","props","name","suppliers","setSuppliers","history","search","location","pathname","result","remove","id","addSupplier","push","editSupplier","map","proveedor","email","phone","web","String"],"mappings":"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","sourcesContent":["import { IonButton, IonButtons, IonCard, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonItem, IonMenuButton, IonPage, IonRow, IonTitle, IonToolbar } from '@ionic/react';\nimport { add, close, pencil } from 'ionicons/icons';\nimport { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router';\nimport Supplier from './Supplier';\nimport { removeSupplier, searchSuppliers } from './SupplierApi';\n\n\nconst SupplierList: React.FC = (props: any) => {\n  const { name } = useParams<{ name: string; }>();\n  const [suppliers, setSuppliers] = useState<Supplier[]>([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    search();\n  }, [history.location.pathname]);\n\n  const search = async () => {\n    let result = await searchSuppliers();\n    setSuppliers(result);\n  }\n\n  const remove = async (id: string) => {\n    await removeSupplier(id);\n    search();\n  }\n\n  const addSupplier = () => {\n    history.push('/page/supplier/new');\n  }\n\n  const editSupplier = (id: string) => {\n    history.push('/page/supplier/' + id);\n  }\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>{name}</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent fullscreen>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">{name}</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n\n\n\n\n\n        <IonContent>\n          <IonCard>\n            <IonTitle>Gestión de Proveedors</IonTitle>\n\n            <IonItem>\n              <IonButton onClick={addSupplier} color=\"primary\" fill=\"solid\" slot=\"end\" size=\"default\">\n                <IonIcon icon={add} />\n                Agregar Proveedor\n              </IonButton>\n            </IonItem>\n\n            <IonGrid className=\"table\">\n              <IonRow>\n                <IonCol>Nombre</IonCol>\n                <IonCol>Email</IonCol>\n                <IonCol>Teléfono</IonCol>\n                <IonCol>Web</IonCol>\n                <IonCol>Acciones</IonCol>\n              </IonRow>\n\n              {suppliers.map((proveedor: Supplier) =>\n                <IonRow>\n                  <IonCol>{proveedor.name} {proveedor.name}</IonCol>\n                  <IonCol>{proveedor.email}</IonCol>\n                  <IonCol>{proveedor.phone}</IonCol>\n                  <IonCol>{proveedor.web}</IonCol>\n                  <IonCol>\n                    <IonButton color=\"primary\" fill=\"clear\"\n                      onClick={() => editSupplier(String(proveedor.id))}>\n                      <IonIcon icon={pencil} slot=\"icon-only\" />\n                    </IonButton>\n\n                    <IonButton color=\"danger\" fill=\"clear\"\n                      onClick={() => remove(String(proveedor.id))}>\n                      <IonIcon icon={close} slot=\"icon-only\" />\n                    </IonButton>\n                  </IonCol>\n                </IonRow>\n              )}\n\n            </IonGrid>\n          </IonCard>\n\n\n        </IonContent>\n\n\n\n\n\n\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default SupplierList;\n"]},"metadata":{},"sourceType":"module"}